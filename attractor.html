<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Attractor</title>
	<link href="main.css" rel="stylesheet" type="text/css">
	<script src="jquery-2.2.3.min.js"></script>
</head>
<body>
	<div id="menu">
		<ul>
			<img src="quiltedRedsGif3.gif" id="logo">
			<li><button class="menuButton" onclick="window.location.href='home.html'">Home</button></li>
			<div id="content">
			De Jong & Clifford Attractor
			</div>
		</ul>
	</div>

<canvas id="Canvas" width="1224" height="768"></canvas>

<script>
	function gup( name, url ) {
  	if (!url) url = location.href;
  	name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  	var regexS = "[\\?&]"+name+"=([^&#]*)";
  	var regex = new RegExp( regexS );
  	var results = regex.exec( url );
	return results == null ? null : results[1];
	}

	var c = document.getElementById("Canvas");
	var ctx = c.getContext("2d");
	//ctx.fillStyle = "#FF106F";
	//ctx.fillRect(10, 15, 100, 200);
	
	//var a = -1.5;
	//var b = 1.8;
	//var c = -1.25;
	//var d = -1.47;
	
	//var a = -1.87;
	//var b = 1.74;
	//var c = 1.76;
	//var d = -1.28;
	
	var a = gup('aParameter');
	if (!a) var a = -1.21;
	var b = gup('bParameter');
	if (!b) var b = 1.42;
	var c = gup('cParameter');
	if (!c) var c = -1.32;
	var d = gup('dParameter');
	if (!d) var d = -1.43;
	
	var skala = 160;
	
	//var timer = setInterval(dejong, 10);
	
	var x = 0;
	var y = 0;
	
	requestAnimationFrame(rysuj);
	
	function dejong()
	{
		for(var i=0; i<2000; i++)
		{
			//var xn = y + 1 - a * x * x;
			//var yn = b * x;
			
			var xn = Math.sin(a*y) - Math.cos(b*x);
			var yn = Math.sin(c*x) - Math.cos(d*y);
			
			if(i%6 == 0)
				ctx.fillStyle = "rgba(255, 0, 0, 0.1)";
			if(i%6 == 1)
				ctx.fillStyle = "rgba(0, 255, 0, 0.1)";
			if(i%6 == 2)
				ctx.fillStyle = "rgba(0, 0, 255, 0.1)";
			if(i%6 == 3)
				ctx.fillStyle = "rgba(255, 0, 255, 0.1)";
			if(i%6 == 4)
				ctx.fillStyle = "rgba(255, 255, 0, 0.1)";
			if(i%6 == 5)
				ctx.fillStyle = "rgba(0, 255, 255, 0.1)";
			ctx.fillRect(xn * skala + 1224/2, yn * skala + 768/2 + 30, 1, 1);
			
			x = xn;
			y = yn;
		}
	}
	
	function clifford()
	{
		for(var i=0; i<2000; i++)
		{
			var xn = Math.sin(a*y) - Math.cos(a*x);
			var yn = Math.sin(b*x) - Math.cos(b*y);
			
			if(i%6 == 0)
				ctx.fillStyle = "rgba(255, 0, 0, 0.1)";
			if(i%6 == 1)
				ctx.fillStyle = "rgba(0, 255, 0, 0.1)";
			if(i%6 == 2)
				ctx.fillStyle = "rgba(0, 0, 255, 0.1)";
			if(i%6 == 3)
				ctx.fillStyle = "rgba(255, 0, 255, 0.1)";
			if(i%6 == 4)
				ctx.fillStyle = "rgba(255, 255, 0, 0.1)";
			if(i%6 == 5)
				ctx.fillStyle = "rgba(0, 255, 255, 0.1)";
			ctx.fillRect(xn * skala + 1224/2, yn * skala + 768/2 + 30, 1, 1);
			
			x = xn;
			y = yn;
		}
	}
	function rysuj()
	{
		requestAnimationFrame(rysuj);
		dejong();
		clifford();
	}
	
</script>

	<div id="bottomBar">
	<form action="attractor.html" method="get">
		<li>a: <input type="text" name="aParameter"></li>
		<li>b: <input type="text" name="bParameter"></li>
		<li>c: <input type="text" name="cParameter"></li>
		<li>d: <input type="text" name="dParameter"></li>
		<li> <input type="submit" class="submitButton" value="OK"></li>
	</form>
	</div>
	<div id="footer">
		Site made by Mateusz Kami≈Ñski.
	</div>
</body>
</html>
